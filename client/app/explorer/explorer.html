<div>

  <div class="input-group">
    <span class="input-group-addon" id="addonCode">{{vm.apiRestBaseEndpoint}}</span>
    <input class="form-control input-md" id="inputCode" type="text" aria-describedby="addonCode"
           ng-model="vm.codeSelection"
           placeholder="Service code"
           typeahead="code for codes in vm.getServices($viewValue) | limitTo:8"
           typeahead-loading="vm.loadingServices">
    <i ng-show="vm.loadingServices" class="glyphicon glyphicon-refresh"></i>

    <div class="input-group-btn" dropdown is-open="status.isopen">
      <button ng-click="vm.loadVersions()" type="button" class="btn btn-primary" dropdown-toggle ng-disabled="disabled">
        Version <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" role="menu" aria-labelledby="single-button">
        <li ng-selected="vm.apiVersionSelection == item.apiVersion"
            ng-repeat="item in vm.endpoints" ng-value="item.apiVersion">
          <a href="#" ng-click="vm.selectVersion(item.apiVersion)">{{item.apiVersion}}</a>
        </li>
      </ul>
    </div>
  </div>

  <br/>

  <div class="row" ng-show="vm.codeSelection && vm.apiVersionSelection">
    <div class="col-lg-12">
      <div class="alert alert-info" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
          aria-hidden="true">&times;</span></button>
        Configured <em>headers['X-Api-Version'] = {{vm.apiVersionSelection}}</em>
        <br>
        Loaded Swagger config from <strong>{{vm.swaggerUrlDisplay}}</strong>
      </div>
    </div>
  </div>


  <div ng-show="vm.codeSelection && vm.swaggerUrl" swagger-ui url="vm.swaggerUrl" api-explorer="true"
       error-handler="vm.swaggerErrorHandler"
       api-explorer-transform="vm.swaggerTransform"></div>
</div>

